<!DOCTYPE html>
<html>
  <head>
    <title>JSNLog Test</title>
    <link rel='stylesheet' href='/css/style.css' />
    <script src='/js/jsnlog-2.7.4/jsnlog.min.js'></script>
  </head>
  <body>
      <div class="container">
          <h1>JSNLog Test</h1>
          <p>Click to create a log message.</p>
          <table>
              <tr><td><button onclick="log_debug();">DEBUG</button></td></tr>
              <tr><td><button onclick="log_info();">INFO</button></td></tr>
              <tr><td><button onclick="log_warn();">WARN</button></td></tr>
              <tr><td><button onclick="log_fatal();">FATAL</button></td></tr>
              <tr><td><button onclick="log_trace();">TRACE</button></td></tr>
          </table>
      </div>
      <script type="text/javascript">
        // configure client logging
        var __jsnlog_configure = function () {
            // fetch the logging configuration from the remote server
            console.log('@@@@@@@@@@@@@@@@ logging configured 2');
            // does not appear to be working!
            JL().setOptions({
                defaultAjaxUrl: "http://localhost:3000/log",
                level: JL.getInfoLevel(),
                requestId: 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {var r = Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16);})
            });
        };

        JL().setOptions({
            defaultAjaxUrl: "http://localhost:3000/log",
            // level: JL.getInfoLevel(),
            requestId: "35F7416D-86F1-47FA-A9EC-547FFF510086"
        });

        var log_debug = function () {
            JL().debug("Debug message");
        };

        var log_fatal = function () {
            JL().fatal("Fatal message");
        };

        var log_info = function () {
            JL().info("Info message");
        };

        var log_trace = function () {
            JL().trace("Trace message");
        };

        var log_warn = function () {
            JL().warn("Warn message");
        };

    </script>
  </body>
</html>